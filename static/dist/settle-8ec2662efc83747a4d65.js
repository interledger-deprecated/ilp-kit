webpackJsonp([9,16],{184:function(e,t,n){"use strict";function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getDestination=t.settle=t.remove=t.updateLogo=t.update=t.add=t.get=t.load=void 0;var l=n(118),o=a(l),r=n(381),i=a(r),s=n(30),d=u(s),E=t.load=function(){return{types:[d.LOAD_SETTLEMENT_METHODS,d.LOAD_SETTLEMENT_METHODS_SUCCESS,d.LOAD_SETTLEMENT_METHODS_FAIL],promise:function(e){return e.get("/settlement_methods")}}};t.get=function(e){return function(t,n){return t(function(){var u=n().settlementMethod.list;return u.length?o.default.resolve((0,i.default)(u,{id:e})):t(E()).then(function(t){return(0,i.default)(t,{id:e})})})}},t.add=function(e){return{types:[d.ADD_SETTLEMENT_METHOD,d.ADD_SETTLEMENT_METHOD_SUCCESS,d.ADD_SETTLEMENT_METHOD_FAIL],promise:function(t){return t.post("/settlement_methods",{data:e})}}},t.update=function(e,t){return{types:[d.UPDATE_SETTLEMENT_METHOD,d.UPDATE_SETTLEMENT_METHOD_SUCCESS,d.UPDATE_SETTLEMENT_METHOD_FAIL],promise:function(n){return n.put("/settlement_methods/"+e,{data:t})}}},t.updateLogo=function(e){return{type:d.UPDATE_SETTLEMENT_METHOD_PIC,result:e}},t.remove=function(e){return{types:[d.REMOVE_SETTLEMENT_METHOD,d.REMOVE_SETTLEMENT_METHOD_SUCCESS,d.REMOVE_SETTLEMENT_METHOD_FAIL],promise:function(t){return t.del("/settlement_methods/"+e)}}},t.settle=function(e,t){return{types:[d.SETTLE,d.SETTLE_SUCCESS,d.SETTLE_FAIL],promise:function(n){return n.post("/settlements/"+e+"/paypal",{data:t})}}},t.getDestination=function(e){return{types:[d.GET_DESTINATION,d.GET_DESTINATION_SUCCESS,d.GET_DESTINATION_FAIL],promise:function(t){return t.get("/destinations/"+e)}}}},375:function(e,t,n){function u(e){return function(t,n,u){var r=Object(t);if(!l(t)){var i=a(n,3);t=o(t),n=function(e){return i(r[e],e,r)}}var s=e(t,n,u);return s>-1?r[i?t[s]:s]:void 0}}var a=n(200),l=n(96),o=n(110);e.exports=u},381:function(e,t,n){var u=n(375),a=n(382),l=u(a);e.exports=l},830:function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l,o,r,i=n(7),s=u(i),d=n(14),E=u(d),f=n(3),c=u(f),T=n(13),p=u(T),m=n(5),_=u(m),S=n(4),M=u(S),v=n(1),D=u(v),h=n(2),L=u(h),O=n(18),y=n(17),g=u(y),N=n(1234),b=u(N),A=n(184),I=g.default.bind(b.default),C=(a=(0,O.connect)(function(e){return{destination:e.settlementMethod.destination}},{getDestination:A.getDestination,settle:A.settle}),a((r=o=function(e){function t(){var e,n,u,a;(0,c.default)(this,t);for(var l=arguments.length,o=Array(l),r=0;r<l;r++)o[r]=arguments[r];return n=u=(0,_.default)(this,(e=t.__proto__||(0,E.default)(t)).call.apply(e,[this].concat(o))),u.state={},u.handleSettle=function(e){e.preventDefault(),!u.refs.amount.value||parseInt(u.refs.amount.value)<1||(u.setState((0,s.default)({},u.state,{loading:!0})),u.props.settle(u.props.params.destination,{amount:u.refs.amount.value}).then(function(e){location.href=e.approvalLink}))},a=n,(0,_.default)(u,a)}return(0,M.default)(t,e),(0,p.default)(t,[{key:"componentWillMount",value:function(){this.props.getDestination(this.props.params.destination)}},{key:"componentDidMount",value:function(){this.setState({hostname:location.hostname})}},{key:"render",value:function(){var e=this.props,t=e.destination,n=e.params,u=e.location,a=this.state,l=a.hostname,o=a.loading,r=u.query&&u.query.amount||0;return D.default.createElement("div",null,D.default.createElement("h3",{className:I("title")},"peer"===t.type&&D.default.createElement("div",null,D.default.createElement("div",null,"You are trying to settle the trustline"),D.default.createElement("div",null,"between ",D.default.createElement("b",null,l)," and ",D.default.createElement("b",null,t.hostname)),D.default.createElement("div",null,"using ",D.default.createElement("b",null,n.method),".")),"user"===t.type&&D.default.createElement("div",null,"You are depositing using ",D.default.createElement("b",null,n.method),".")),D.default.createElement("form",{onSubmit:this.handleSettle,className:I("inputBox")},D.default.createElement("label",null,D.default.createElement("div",null,"Enter the amount"),D.default.createElement("input",{type:"text",ref:"amount",className:I("amountField"),defaultValue:r})),D.default.createElement("div",null,D.default.createElement("button",{type:"submit",className:I("btn","btn-success","btn-lg"),disabled:o},o?"Loading...":"Make a Payment"))))}}]),t}(v.Component),o.propTypes={params:L.default.object.isRequired,location:L.default.object.isRequired,getDestination:L.default.func.isRequired,destination:L.default.object,settle:L.default.func.isRequired},l=r))||l);t.default=C,e.exports=t.default},1234:function(e,t){e.exports={title:"_2gJ8jph8HxUn6zlSxgU4Y1",inputBox:"_2p9TjJ_-hZvjFdQOyj0Duh",amountField:"_3ZpBdShLlmzJ5UQIwAV0E4"}}});
//# sourceMappingURL=settle-8ec2662efc83747a4d65.js.map